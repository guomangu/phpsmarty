<div id="divMessagesImage" class="invalid-feedback divMessagesFormulaireAdmin"></div>

<form class="formulaireAdmin customShadow" method="POST" action="" enctype="multipart/form-data" onsubmit="return validerModifImage();" autocomplete="off">
    <div class="">
        <label for="idImage">Selectionnez une image</label>
        <input type="text" id="idImage" class="form-control" name="idImage" list="comboImage">
        <datalist id="comboImage">
            {foreach from=$tabTabId['Images'] item=id}
                <option value="{$id}">
            {/foreach}
        </datalist>
    </div>

    <div class="">
        <label for="dateAjoutImage">Date d'ajout</label>
        <input type="datetime-local" class="form-control" id="dateAjoutImage" name="dateAjoutImage"/>   
    </div>

    <div class="formulaireExpand">
        <label for="urlImage">Url image</label>
        <input type="text" class="form-control" id="urlImage" name="urlImage"/>   
    </div>

    <div class="">
        <label for="signaleImage">Signalé</label>
        <select id="signaleImage" class="form-control" name="signaleImage">
            <option></option>
            <option value="1">Oui</option>
            <option value="0">Non</option>
        </select>
    </div>

    <div class="divButton formulaireExpand vCenter">
        <button type="submit" class="btn btn-primary" name="modifierImage">Modifier</button>
    </div>
</form>

<script>
    function validerModifImage()
    {
        document.getElementById( 'divMessagesImage' ).innerHTML = "";
        // contrôles des formulaires nécéssaires
        if ( document.getElementById( 'idImage' ).value == "" )
        {
            document.getElementById( 'idImage' ).classList.add( 'is-invalid' );
            document.getElementById( 'divMessagesImage' ).innerHTML = 'Veuillez préciser un identifiant de l\'image';
            return false;
        }
        else
        {
            document.getElementById( 'idImage' ).classList.remove( 'is-invalid' );
            document.getElementById( 'idImage' ).classList.add( 'is-valid' );
            var submitOK = false;

            if ( document.getElementById( 'dateAjoutImage').value != "" )
            {
                document.getElementById( 'dateAjoutImage').classList.remove( 'is-invalid' );
                document.getElementById( 'dateAjoutImage').classList.add( 'is-valid' );
                submitOK = true;
            }

            if ( document.getElementById( 'urlImage' ).value != "" )
            {
                document.getElementById( 'urlImage' ).classList.remove( 'is-invalid' );
                document.getElementById( 'urlImage' ).classList.add( 'is-valid' );
                submitOK = true;
            }

            if ( document.getElementById( 'signaleImage' ).value != "" )
            {
                document.getElementById( 'signaleImage' ).classList.remove( 'is-invalid' );
                document.getElementById( 'signaleImage' ).classList.add( 'is-valid' );
                submitOK = true;
            }

            if ( submitOK == false )
            {
                document.getElementById( 'dateAjoutImage').classList.add( 'is-invalid' );
                document.getElementById( 'urlImage' ).classList.add( 'is-invalid' );
                document.getElementById( 'signaleImage' ).classList.add( 'is-invalid' );

                document.getElementById( 'divMessagesImage' ).innerHTML = 'Veuillez remplir au moins 1 de ces champs.';
            }

            return submitOK;
        }
    }
</script>